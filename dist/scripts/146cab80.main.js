"use strict";function getValues(){landingPageURL=$("input[name=landingPageURL]").val(),utmCampaign=$("input[name=utm_campaign]").val(),utmMedium=$("input:radio[name=utm_medium]:checked").val(),utmSource=$("input:radio[name=utm_source]:checked").val(),"other"===utmSource&&(utmSource=$("#sourceOther").val()),utmContent=$("input[name=utm_content]").val()}function getSimpleValues(){landingPageURL=$("input:radio[name=landingPageURL]:checked").val(),utmCampaign=$("input[name=utm_campaign]").val(),utmMedium=$("input[name=utm_medium]").val(),utmSource=$("input[name=utm_source]").val(),utmContent=$("input[name=utm_content]").val(),utmCampaign=utmSource+"_"+utmCampaign.replace(/\W/g,"").toLowerCase()}function checkValues(){valid=!0,errors=[],landingPageURL||(valid=!1,errors.push("Landing page URL is required")),(landingPageURL.match(/\?/g)||[]).length>1&&(valid=!1,errors.push("There is more than one ? in the Landing Page URL, which means something is wrong. After the first ? there should only be &s")),utmCampaign||(valid=!1,errors.push("Referral ID / Campaign Name is required"));var a=/^[\w-]+$/g;utmCampaign&&(a.test(utmCampaign)||(valid=!1,errors.push("Referral ID can only contain letters, numbers, hyphens and underscores (no spaces)"))),utmSource||(valid=!1,errors.push("Campaign Source is required (check Other)"));var b=/^[\w-\.]+$/g;if(b.test(utmSource)||(valid=!1,errors.push("Source Other can only contain letters, numbers, hyphens, underscores and dots (no spaces)")),utmContent){var c=/^[\w-\.]+$/g;c.test(utmContent)||(valid=!1,errors.push("Granular detail can only contain letters, numbers, hyphens, underscores and dots (no spaces)"))}}function showPlaceholder(){$(".result").hide(),$("#result-placeholder").show()}function outputTaggedURL(){var a=landingPageURL;a+=-1===landingPageURL.indexOf("?")?"?":"&",a+="ref="+utmCampaign,a+="&utm_campaign="+utmCampaign,a+="&utm_source="+utmSource,a+="&utm_medium="+utmMedium,utmContent&&(a+="&utm_content="+utmContent),$(".result").hide(),$("#result-success").show(),$("#result-url").text(a),$("#result-link").attr("href",a)}function outputFeedback(){for(var a="<ul>",b=0;b<errors.length;b++)a+="<li>"+errors[b]+"</li>";a+="</ul>",$(".result").hide(),$("#result-error").show(),$("#result-error").html(a)}var landingPageURL,utmSource,utmCampaign,utmMedium,utmContent,valid=!1,errors=[];$(".result").hide(),$("#result-placeholder").show(),$("#getTaggedURL").click(function(){getValues(),checkValues(),valid?outputTaggedURL():outputFeedback()}),$("#simpleGetTaggedURL").click(function(){getSimpleValues(),checkValues(),valid?outputTaggedURL():outputFeedback()}),$("input").focus(function(){showPlaceholder()}),$("#sourceOther").focus(function(){$("#sourceOtherRadio").prop("checked",!0)});